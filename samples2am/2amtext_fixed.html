<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Scrambled Timezones</title>
<style>
    @font-face {
      font-family: 'Suisse';
      src: url('./css/suisse.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }
#background-container {
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1;
  overflow: hidden;
}

.video-bg {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 177.77vh; /* 100 * (16/9) */
  height: 100vh;
  transform: translate(-50%, -50%);
  pointer-events: none; /* lets clicks pass through */
}

@media (min-aspect-ratio: 16/9) {
  .video-bg {
    width: 100vw;
    height: 56.25vw; /* 100 / (16/9) */
  }
}

#bg-frame {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 177.77777778vh;
  height: 100vh;
  transform: translate(-50%, -50%) scale(1.5);
  transform-origin: center center;
  pointer-events: none;
  opacity: 1;
  border: none;
  z-index: 0;
}
    body {
      
      color: white;
      font-family: 'Suisse', sans-serif;
      font-size: 14px;
      margin: 0;
      padding: 10px;
      text-transform: lowercase;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .grid {
      display: flex;
      flex-wrap: wrap;
      align-content: flex-start;
      line-height: 1.3;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      box-sizing: border-box;
    }

    .zone {
      margin: 0 8px 0 0;
      padding: 0;

      white-space: nowrap;
    }

    .gmt {
      background-color: #359395;
      color: white;
      font-weight: bold;
    }

    .location {
      background-color: #f2eb0c;
      color: black;
      font-weight: bold;
    }

    .stream {
      background-color: #e4202c;
      color: white;
      font-weight: bold;
    }
  
.neon-clock {
	background-color: #0b0b22;
	color: #ff3b3b;
	font-size: 14px;

	font-weight: bold;
	animation: pulse 1.5s infinite alternate;
	font-variant-numeric: tabular-nums;
	font-feature-settings: 'tnum';
	font-family: 'Suisse', monospace;
}
	
	

.clock-container {
  position: fixed;
  top: 10px;
  right: 10px;
  z-index: 10;
}
.rewind {
  cursor: pointer;
  
}





</style>
</head>
<body>
<body>
<div id="background-container" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -1; overflow: hidden;">
<div id="background-container">
<div class="video-bg">
<iframe allow="autoplay" allowfullscreen="" frameborder="0" id="bg-frame"></iframe>
</div>
</div>
</div>
<div class="grid" id="radio-zones"><div class="zone neon-clock" id="clock">2:00:00 am</div><div class="zone rewind" id="rewind">الإسكندرية</div></div>
<audio autoplay="" id="radio-player"></audio>
<script>

// All fixed JavaScript goes here
let virtualOffset = (2 - new Date().getUTCHours() + 24) % 24;
virtualOffset = virtualOffset > 12 ? virtualOffset - 24 : virtualOffset;

const radioStreams = {
  "-12": "https://worldwidefm.out.airtime.pro/worldwidefm_b",
  "-11": "https://worldwidefm.out.airtime.pro/worldwidefm_b",
  "-10": "https://transmitter.clubcasting.net:8000/onacid",
  "-9": "https://stream.ktuh.org:8001/stream",
  "-8": "https://s26.myradiostream.com:17824/",
  "-7": "https://dublab.out.airtime.pro/dublab_a",
  "-6": "https://radio.mensajito.mx/nopalVentana",
  "-5": "https://edge.mixlr.com/channel/ibrdq",
  "-4": "https://n10as.radiocult.fm/stream",
  "-3": "https://servidor24-1.brlogic.com:7516/live",
  "-2": "https://servidor30.brlogic.com:8262/live",
  "-1": "https://azuracast.datea.services:8000/radio.mp3",
  "0": "https://oroko-radio.radiocult.fm/stream",
  "1": "https://stream.radioquantica.com:8443/stream",
  "2": "https://cashmereradio.out.airtime.pro/cashmereradio_b",
  "3": "https://20ft-radio.radiocult.fm/stream",
  "4": "https://radio.beshknow.com/beshknow",
  "5": "https://stream-160.zeno.fm/nvvbgyewxksuv",
  "6": "http://94.130.113.214:8000/dubtechno",
  "7": "https://stream.zeno.fm/2uhuu5hvzqzuv",
  "8": "https://listen.belowground.fm/listen/belowground_fm/radio.mp3",
  "9": "https://uk5.internet-radio.com/proxy/mmr?mp=/stream",
  "10": "https://streamer.fbiradio.com/stream",
  "11": "https://stream.tbc.radio:8000/radio.mp3",
  "12": "https://radio.kamchatkalive.ru:8103/dance"
};

const backgroundStreams = {
  "-12": "https://www.youtube.com/embed/og8bbxl0iW8?autoplay=1&mute=1&controls=0&loop=1&playlist=og8bbxl0iW8",
  "-11": "https://www.youtube.com/embed/og8bbxl0iW8?autoplay=1&mute=1&controls=0&loop=1&playlist=og8bbxl0iW8",
  "-10": "https://www.youtube.com/embed/sxQAhw1sAyY?autoplay=1&mute=1&controls=0&loop=1&playlist=sxQAhw1sAyY",
  "-9": "https://www.youtube.com/embed/jJI5w_RVGtQ?autoplay=1&mute=1&controls=0&loop=1&playlist=jJI5w_RVGtQ",
  "-8": "https://www.youtube.com/embed/3LXQWU67Ufk?autoplay=1&mute=1&controls=0&loop=1&playlist=3LXQWU67Ufk",
  "-7": "https://www.youtube.com/embed/3LXQWU67Ufk?autoplay=1&mute=1&controls=0&loop=1&playlist=3LXQWU67Ufk",
  "-6": "https://www.youtube.com/embed/DDBfzu6d9Xw?autoplay=1&mute=1&controls=0&loop=1&playlist=DDBfzu6d9Xw",
  "-5": "https://www.youtube.com/embed/_Rm4nXOQK9I?autoplay=1&mute=1&controls=0&loop=1&playlist=_Rm4nXOQK9I",
  "-4": "https://www.youtube.com/embed/l_8DrACHpwY?autoplay=1&mute=1&controls=0&loop=1&playlist=l_8DrACHpwY",
  "-3": "https://www.youtube.com/embed/l_8DrACHpwY?autoplay=1&mute=1&controls=0&loop=1&playlist=l_8DrACHpwY",
  "-2": "https://www.youtube.com/embed/6QoLEltTzIM?autoplay=1&mute=1&controls=0&loop=1&playlist=6QoLEltTzIM",
  "-1": "https://www.youtube.com/embed/l_8DrACHpwY?autoplay=1&mute=1&controls=0&loop=1&playlist=l_8DrACHpwY",
  "0": "https://www.youtube.com/embed/yuIm1V7Ne7I?autoplay=1&mute=1&controls=0",
  "1": "https://www.youtube.com/embed/5Uqw_G_IdjE?autoplay=1&mute=1&controls=0&loop=1&playlist=5Uqw_G_IdjE",
  "2": "https://www.youtube.com/embed/a37ZDRECzIA?autoplay=1&mute=1&controls=0&loop=1&playlist=a37ZDRECzIA",
  "3": "https://www.youtube.com/embed/e2gC37ILQmk?autoplay=1&mute=1&controls=0&loop=1&playlist=e2gC37ILQmk",
  "4": "https://www.youtube.com/embed/l_8DrACHpwY?autoplay=1&mute=1&controls=0&loop=1&playlist=l_8DrACHpwY",
  "5": "https://www.youtube.com/embed/9IC0EfKdScI?autoplay=1&mute=1&controls=0&loop=1&playlist=9IC0EfKdScI",
  "6": "https://www.youtube.com/embed/9IC0EfKdScI?autoplay=1&mute=1&controls=0&loop=1&playlist=9IC0EfKdScI",
  "7": "https://www.youtube.com/embed/p0Qhe4vhYLQ?autoplay=1&mute=1&controls=0&loop=1&playlist=p0Qhe4vhYLQ",
  "8": "https://www.youtube.com/embed/irw_cppaJvE?autoplay=1&mute=1&controls=0&loop=1&playlist=irw_cppaJvE",
  "9": "https://www.youtube.com/embed/DjdUEyjx8GM?autoplay=1&mute=1&controls=0",
  "10": "https://www.youtube.com/embed/5uZa3-RMFos?autoplay=1&mute=1&controls=0",
  "11": "https://www.youtube.com/embed/5uZa3-RMFos?autoplay=1&mute=1&controls=0",
  "12": "https://www.youtube.com/embed/Hs9LMEew-6k?autoplay=1&mute=1&controls=0&loop=1&playlist=Hs9LMEew-6k"
};

const audio = document.getElementById("radio-player");
const bgFrame = document.getElementById("bg-frame");

const currentStream = radioStreams[virtualOffset];
const currentBg = backgroundStreams[virtualOffset];

if (currentStream) {
  audio.src = currentStream;
  audio.play().catch(() => {
    document.body.addEventListener("click", () => {
      audio.play().catch(console.error);
    }, { once: true });
  });
}

if (currentBg) {
  bgFrame.src = currentBg;
}

function updateClockText(hour) {
  const now = new Date();
  const minutes = now.getMinutes().toString().padStart(2, '0');
  const seconds = now.getSeconds().toString().padStart(2, '0');
  const displayHour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;
  document.getElementById("clock").textContent = `${displayHour}:${minutes}:${seconds}`;
}

function updateHighlights(offset) {
  document.querySelectorAll('.gmt, .stream, .location').forEach(el => {
    el.classList.remove('gmt', 'stream', 'location');
  });

  document.querySelectorAll('#radio-zones .zone').forEach(zone => {
    if (zone.textContent.startsWith('gmt')) {
      if (zone.textContent.includes(`${offset >= 0 ? '+' : ''}${offset}`)) {
        zone.classList.add('gmt');
      }
    } else if (radioStreams[offset] && zone.textContent.includes(radioStreams[offset])) {
      zone.classList.add('stream');
    } else if (streamLocations[offset] && zone.textContent === streamLocations[offset]) {
      zone.classList.add('location');
    }
  });
}

document.getElementById("rewind").addEventListener("click", () => {
  virtualOffset = virtualOffset - 1;
  if (virtualOffset < -12) virtualOffset = 12;

  const newStream = radioStreams[virtualOffset];
  const newBg = backgroundStreams[virtualOffset];

  if (newStream) {
    audio.src = newStream;
    audio.play().catch(console.error);
  }

  if (newBg) {
    bgFrame.src = newBg;
  }

  const hourLabel = (2 + virtualOffset + 24) % 24;
  updateClockText(hourLabel);
  updateHighlights(virtualOffset);
});

function tick() {
  const hourLabel = (2 + virtualOffset + 24) % 24;
  updateClockText(hourLabel);
}
setInterval(tick, 1000);
tick();

document.body.addEventListener("click", (e) => {
  const clickedText = e.target.closest(".zone");
  const clickedRewind = e.target.id === "rewind" || e.target.closest("#rewind");
  const clickedClock = e.target.id === "clock" || e.target.closest("#clock");

  if (!clickedText && !clickedRewind && !clickedClock) {
    if (audio.paused) {
      audio.play().catch(console.error);
    } else {
      audio.pause();
    }
  }
});

</script>
</body>
</html>